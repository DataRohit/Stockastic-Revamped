{% extends "base.html" %}
{% load widget_tweaks %}
{% load static %}
{% load humanize %}
{% block title %}
    {{ quote.shortName|upper }}
{% endblock title %}
{% block content %}
    <div class="mx-4 xl:mx-auto my-8 xl:max-w-screen-xl xl:w-full xl:space-x-0 xl:justify-between">
        {% if messages %}
            {% for msg in messages %}
                <div role="alert" class="alert alert-{{ msg.tags }} my-4 relative">
                    <svg xmlns="http://www.w3.org/2000/svg"
                         fill="none"
                         viewBox="0 0 24 24"
                         class="h-6 w-6 shrink-0 stroke-current inline-block">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z">
                        </path>
                    </svg>
                    <span class="text-sm inline-block">{{ msg }}</span>
                    <button type="button"
                            class="absolute right-0 p-4"
                            onclick="this.parentElement.style.display='none';">
                        <svg xmlns="http://www.w3.org/2000/svg"
                             fill="none"
                             viewBox="0 0 24 24"
                             stroke-width="1.5"
                             stroke="currentColor"
                             class="h-6 w-6">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
            {% endfor %}
        {% endif %}
        <h1 class="text-2xl lg:text-3xl font-black text-white w-full text-center mb-6">
            {% if quote.longName %}
                {{ quote.longName|upper }} ({{ quote.exchange|upper }})
            {% else %}
                {{ quote.shortName|upper }} ({{ quote.exchange|upper }})
            {% endif %}
        </h1>
        <div id="chart-container">{{ chart|safe }}</div>
        <div class="grid grid-cols-2 gap-4">
            <a href="{% url "stock:equityQuote" bse_symbol %}"
               class="btn btn-outline {% if quote.exchange == 'BSE' %}disabled opacity-50 pointer-events-none{% endif %}">
                BSE
            </a>
            <a href="{% url "stock:equityQuote" nse_symbol %}"
               class="btn btn-outline {% if quote.exchange == 'NSI' %}disabled opacity-50 pointer-events-none{% endif %}">
                NSE
            </a>
        </div>
    </div>
{% endblock content %}
